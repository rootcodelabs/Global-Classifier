-- liquibase formatted sql

-- changeset kalsara Magamage:classifier-script-v6-changeset1
CREATE TYPE Validation_Status AS ENUM ('success', 'fail', 'in-progress', 'unvalidated');

-- changeset kalsara Magamage:classifier-script-v6-changeset2
CREATE TABLE dataset_group_metadata (
    id BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    group_name TEXT NOT NULL,
    group_key TEXT NOT NULL,
    major_version INT NOT NULL DEFAULT 0,
    minor_version INT NOT NULL DEFAULT 0,
    patch_version INT NOT NULL DEFAULT 0,
    latest BOOLEAN DEFAULT false,
    is_enabled BOOLEAN DEFAULT false,
    enable_allowed BOOLEAN DEFAULT false,
    last_model_trained TEXT,
    created_timestamp TIMESTAMP WITH TIME ZONE,
    last_updated_timestamp TIMESTAMP WITH TIME ZONE,
    last_trained_timestamp TIMESTAMP WITH TIME ZONE,
    validation_status Validation_Status,
    validation_errors JSONB,
    processed_data_available BOOLEAN DEFAULT false,
    raw_data_available BOOLEAN DEFAULT false,
    num_samples INT,
    num_pages INT,
    raw_data_location TEXT,
    preprocess_data_location TEXT,
    validation_criteria JSONB,
    class_hierarchy JSONB,
    connected_models JSONB,
    CONSTRAINT dataset_group_metadata_pkey PRIMARY KEY (id)
);