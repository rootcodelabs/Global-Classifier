-- liquibase formatted sql

-- changeset kalsara Magamage:classifier-script-v8-changeset1
CREATE TYPE Validation_Progress_Status AS ENUM ('Initiating Validation', 'Validation In-Progress', 'Cleaning Dataset', 'Generating Data', 'Success', 'Fail');

-- changeset kalsara Magamage:classifier-script-v8-changeset2
CREATE TABLE dataset_progress_sessions (
    id BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    dg_id BIGINT NOT NULL,
    group_name TEXT NOT NULL,
    major_version INT NOT NULL DEFAULT 0,
    minor_version INT NOT NULL DEFAULT 0,
    patch_version INT NOT NULL DEFAULT 0,
    latest BOOLEAN DEFAULT false,
    process_complete BOOLEAN DEFAULT false,
    progress_percentage INT,
    validation_status Validation_Progress_Status,
    validation_message TEXT ,
    CONSTRAINT dataset_progress_sessions_pkey PRIMARY KEY (id)
);